<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="SanguphageMeetingTorch"]/designationCategory</xpath>
    <value>
      <designationCategory>Furniture</designationCategory>
    </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="SanguphageMeetingTorch"]</xpath>
    <value>
      <costList>
        <WoodLog>20</WoodLog>
        <HemogenPack>1</HemogenPack>
      </costList>
      <uiOrder>2804</uiOrder>
    </value>
  </Operation>

  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="SanguphageMeetingTorch"]/minifiedDef</xpath>
  </Operation>

  <Operation Class="PatchOperationRemove">
    <xpath>Defs/ThingDef[defName="SanguphageMeetingTorch"]/thingCategories</xpath>
  </Operation>
  
  <!-- Add SanguphageMeetingTorch links -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="SanguphageMeetingTorch"]/comps/li[@Class="CompProperties_MeditationFocus"]/offsets/li[@Class="FocusStrengthOffset_BuildingDefsLit"]/defs</xpath>
    <value>
      <li>TorchWallLamp</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchWallLamp</li>
      <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungusWallLamp</li>
      <li>SanguphageMeetingTorch</li>
      <li>SanguophageMeetingTorchWallLamp</li>
      <li>UraniumTorch</li>
      <li>UraniumTorchWallLamp</li>
    </value>
  </Operation>
</Patch>